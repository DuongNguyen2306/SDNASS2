<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Quizzes</h2>
  <a class="btn btn-primary" href="/quizzes/new">New Quiz</a>
</div>

<form class="row g-2 mb-3" method="get" action="/quizzes/go">
  <div class="col-auto">
    <input type="text" name="id" class="form-control" placeholder="Enter quiz ID" required />
  </div>
  <div class="col-auto">
    <button type="submit" class="btn btn-outline-secondary">Go to detail</button>
  </div>
</form>

<div class="table-responsive">
  <table class="table table-striped align-middle">
    <thead>
      <tr>
        <th>#</th>
        <th>Title</th>
        <th>Description</th>
        <th>Questions</th>
        <th class="text-end">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% if (Array.isArray(quizzes) && quizzes.length) { %>
        <% quizzes.forEach((qz, idx) => { %>
          <tr>
            <td><%= idx + 1 %></td>
            <td><a href="/quizzes/<%= qz._id %>"><%= qz.title %></a></td>
            <td><%= qz.description %></td>
            <td><span class="badge bg-info"><%= (qz.questions || []).length %></span></td>
            <td class="text-end">
              <div class="btn-group" role="group">
                <a class="btn btn-sm btn-outline-primary" href="/quizzes/<%= qz._id %>/edit">Edit</a>
                <a class="btn btn-sm btn-outline-secondary" href="/quizzes/<%= qz._id %>/populate">Only 'capital'</a>
                <form action="/quizzes/<%= qz._id %>?_method=DELETE" method="post" class="ms-1">
                  <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete this quiz?')">Delete</button>
                </form>
              </div>
            </td>
          </tr>
        <% }) %>
      <% } else { %>
        <tr><td colspan="5" class="text-center text-muted">No quizzes.</td></tr>
      <% } %>
    </tbody>
  </table>
</div>

<div class="mt-3">
  <a class="btn btn-outline-secondary btn-sm" href="/quizzes/sample">View sample layout</a>
</div>

